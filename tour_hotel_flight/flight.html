<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ƒê·∫∑t V√© M√°y Bay - Travel Explorer</title>
    <link rel="stylesheet" href="index.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>

<body>
    <header class="header">
        <nav class="nav-container">
            <a href="main.html" class="logo">üåç Travel Explorer</a>
            <div>
                <ul class="nav-menu">
                    <li><a href="main.html#home" class="nav-link">Trang Ch·ªß</a></li>
                    <li><a href="main.html#destinations" class="nav-link">ƒêi·ªÉm ƒê·∫øn</a></li>
                    <li><a href="main.html#services" class="nav-link">D·ªãch V·ª•</a></li>
                    <li><a href="main.html#contact" class="nav-link">Li√™n H·ªá</a></li>
                </ul>
            </div>
        </nav>
    </header>

    <section class="flight-page-hero" style="background: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), url('·∫£nh/img-travel.jpg') center/cover;">
        <div class="hero-content">
            <h1>SƒÉn V√© M√°y Bay Gi√° T·ªët Nh·∫•t</h1>
        </div>
    </section>

    <section class="flight-search">
    <div class="container">
        <form class="search-form" id="flightSearchForm">
            <div class="form-group">
                <label for="departureCity">ƒêi·ªÉm ƒêi (*)</label>
                <input type="text" id="departureCity" placeholder="V√≠ d·ª•: TP. H·ªì Ch√≠ Minh (SGN)" required />
            </div>
            <div class="form-group">
                <label for="arrivalCity">ƒêi·ªÉm ƒê·∫øn (*)</label>
                <input type="text" id="arrivalCity" placeholder="V√≠ d·ª•: H√† N·ªôi (HAN)" required />
            </div>
            <div class="form-group">
                <label for="departureDate">Ng√†y ƒêi (*)</label>
                <input type="date" id="departureDate" required />
            </div>
            <div class="form-group">
                <label for="passengers">S·ªë H√†nh Kh√°ch</label>
                <input type="number" id="passengers" value="1" min="1" required />
            </div>
            <button type="submit" class="cta-button" id="searchFlightButton" style="align-self: flex-end; padding: 0.8rem 1.5rem;">T√¨m Chuy·∫øn Bay</button>
        </form>
    </div>
</section>

<section class="flight-list" id="flightListSection">
    <div class="container">
        <h2 class="section-title" id="flightSectionTitle">Vui l√≤ng nh·∫≠p th√¥ng tin ƒë·ªÉ t√¨m chuy·∫øn bay</h2>
        <div id="flightListContainer">
            </div>
    </div>
</section>
<div class="modal-overlay" id="flightModal">
    <div class="modal-content">
        <button class="close-button" onclick="closeModal('flightModal')">&times;</button>
        <h3>ƒê·∫∂T V√â M√ÅY BAY</h3>
        <p class="service-selection">B·∫°n ƒëang ch·ªçn: <span id="selectedFlightName">Chuy·∫øn bay...</span></p>
        <form class="modal-form">
            <input type="hidden" id="flightName" name="flight_name" value=""> 

            <div class="form-group">
                <label for="contactName">H·ªç v√† T√™n Ng∆∞·ªùi Li√™n H·ªá (*)</label>
                <input type="text" id="contactName" placeholder="Nh·∫≠p h·ªç v√† t√™n" required>
            </div>
            
            <div class="form-group">
                <label for="contactPhone">S·ªë ƒêi·ªán Tho·∫°i (*)</label>
                <input type="tel" id="contactPhone" placeholder="Nh·∫≠p s·ªë ƒëi·ªán tho·∫°i" required>
            </div>
            
            <div class="form-group">
                <label for="contactEmail">Email (*)</label>
                <input type="email" id="contactEmail" placeholder="Nh·∫≠p ƒë·ªãa ch·ªâ email" required>
            </div>
            
            <div class="form-group">
                <label for="passengerCount">T·ªïng S·ªë L∆∞·ª£ng H√†nh Kh√°ch (*)</label>
                <input type="number" id="passengerCount" value="1" min="1" required>
            </div>

            <div class="form-group">
                <label for="notesFlight">Y√™u C·∫ßu ƒê·∫∑c Bi·ªát (ch·ªçn ch·ªó, su·∫•t ƒÉn,...) </label>
                <textarea id="notesFlight" rows="3" placeholder="Ghi ch√∫ c√°c y√™u c·∫ßu c·ªßa h√†nh kh√°ch"></textarea>
            </div>
            <button type="submit">X√°c Nh·∫≠n ƒê·∫∑t V√©</button>
        </form>
    </div>
</div>
<script>
    const allFlights = [
        { id: 1, airline: "Vietnam Airlines", flightNumber: "VN7729", departureTime: "07:00", arrivalTime: "09:00", price: "2.500.000ƒë", rawPrice: "2.500.000ƒë", class: "Ph·ªï th√¥ng", image: "·∫£nh/vna.jpg", duration: "2h00" },
        { id: 2, airline: "Bamboo Airways", flightNumber: "QH1001", departureTime: "10:30", arrivalTime: "12:30", price: "2.350.000ƒë", rawPrice: "2.350.000ƒë", class: "Ph·ªï th√¥ng", image: "·∫£nh/bamboo.png", duration: "2h00" },
        { id: 3, airline: "Vietjet Air", flightNumber: "VJ334", departureTime: "14:45", arrivalTime: "16:45", price: "1.900.000ƒë", rawPrice: "1.900.000ƒë", class: "Ti·∫øt ki·ªám", image: "·∫£nh/vietjet.png", duration: "2h00" },
        { id: 4, airline: "Vietnam Airlines", flightNumber: "VN7221", departureTime: "18:00", arrivalTime: "20:00", price: "2.750.000ƒë", rawPrice: "2.750.000ƒë", class: "Th∆∞∆°ng gia", image: "·∫£nh/vna.jpg", duration: "2h00" },
        { id: 5, airline: "Bamboo Airways", flightNumber: "QH1009", departureTime: "21:15", arrivalTime: "23:15", price: "2.200.000ƒë", rawPrice: "2.200.000ƒë", class: "Ph·ªï th√¥ng", image: "·∫£nh/bamboo.png", duration: "2h00" }
    ];

    let selectedFlightDetails = null;

    const flightListContainer = document.getElementById('flightListContainer');
    const flightSearchForm = document.getElementById('flightSearchForm');
    const flightSectionTitle = document.getElementById('flightSectionTitle');
    const flightModal = document.getElementById('flightModal');
    const confirmationModal = document.getElementById('confirmationModal');

    // === H√ÄM MODAL CHUNG ===
    function openModal(modalId, serviceName, details) {
        document.getElementById(modalId).style.display = 'flex';
        if (serviceName && details) {
            if (modalId === 'flightModal') {
                document.getElementById('flightName').value = serviceName;
                document.getElementById('selectedFlightName').textContent = serviceName; 
                selectedFlightDetails = details; 
            }
        }
    }

    function closeModal(modalId) {
        document.getElementById(modalId).style.display = 'none';
        if (modalId === 'confirmationModal') {
            document.querySelector('#flightModal .modal-form').reset();
        }
    }
    function attachModalEvents() {
        document.querySelectorAll('.open-modal-flight').forEach(button => {
            button.onclick = null; 
            button.onclick = function(e) {
                e.preventDefault();
                const flightId = this.getAttribute('data-flight-id');
                const flight = allFlights.find(f => f.id == flightId);
                
                if (flight) {
                    const serviceName = `${flight.airline} (${flight.departureTime} - ${flight.arrivalTime}) - ${flight.flightNumber}`;
                    openModal('flightModal', serviceName, flight);
                }
            };
        });
    }
    function renderFlights(flights, departure, arrival) {
        flightListContainer.innerHTML = ''; 

        if (flights.length === 0) {
            flightListContainer.innerHTML = '<p style="text-align: center; width: 100%; font-size: 1.2rem; color: #EA580C; margin-top: 2rem;">Xin l·ªói, kh√¥ng t√¨m th·∫•y chuy·∫øn bay n√†o ph√π h·ª£p.</p>';
            return;
        }

        flightSectionTitle.textContent = `C√°c Chuy·∫øn Bay t·ª´ ${departure} ƒë·∫øn ${arrival}`;

        flights.forEach(flight => {
            const card = document.createElement('div');
            card.className = 'flight-card';
            card.innerHTML = `
                <div class="flight-header">
                    <img src="${flight.image || '·∫£nh/plane.jpg'}" alt="${flight.airline}" class="airline-logo">
                    <span class="airline-name">${flight.airline}</span>
                </div>
                <div class="flight-details">
                    <div class="flight-time-info">
                        <p class="time">${flight.departureTime}</p>
                        <p class="city-code">(${departure})</p>
                    </div>
                    <div class="flight-duration">
                        <i class="fa-solid fa-clock"></i> ${flight.duration}
                        <hr>
                        <i class="fa-solid fa-plane"></i> ${flight.flightNumber}
                    </div>
                    <div class="flight-time-info">
                        <p class="time">${flight.arrivalTime}</p>
                        <p class="city-code">(${arrival})</p>
                    </div>
                </div>
                <div class="flight-booking-info">
                    <div class="price-class">
                        <p class="flight-class">H·∫°ng v√©: <strong>${flight.class}</strong></p>
                        <p class="flight-price">Gi√°: <strong>${flight.price}</strong></p>
                    </div>
                    <button class="cta-button open-modal-flight" 
                            data-flight-id="${flight.id}"
                            style="padding: 0.6rem 1.2rem;">
                        Ch·ªçn V√©
                    </button>
                </div>
            `;
            flightListContainer.appendChild(card);
        });
        attachModalEvents();
        document.getElementById('flightListSection').scrollIntoView({ behavior: 'smooth', block: 'start' });
    }
    document.querySelector('#flightModal .modal-form').addEventListener('submit', function(e) {
        e.preventDefault();
        
        if (!selectedFlightDetails) {
            alert("L·ªói: Kh√¥ng t√¨m th·∫•y chi ti·∫øt chuy·∫øn bay ƒë√£ ch·ªçn.");
            return;
        }
        
        const contactName = document.getElementById('contactName').value;
        const contactEmail = document.getElementById('contactEmail').value;
        const contactPhone = document.getElementById('contactPhone').value;
        const passengerCount = parseInt(document.getElementById('passengerCount').value);
        const priceString = selectedFlightDetails.rawPrice.replace(/\./g, '').replace('ƒë', '').trim();
        const unitPrice = parseInt(priceString); 
        let totalPrice = "Li√™n h·ªá";

        if (!isNaN(unitPrice) && passengerCount >= 1) {
            const rawTotalPrice = unitPrice * passengerCount;
            totalPrice = rawTotalPrice.toLocaleString('vi-VN') + 'ƒë'; 
        } else if (passengerCount >= 1) {
            totalPrice = selectedFlightDetails.rawPrice + ` x ${passengerCount}`;
        }

        document.getElementById('confFlightName').textContent = selectedFlightDetails.airline + " - " + selectedFlightDetails.flightNumber;

        document.getElementById('confFlightPrice').textContent = totalPrice; 
        document.getElementById('confContactName').textContent = contactName;
        document.getElementById('confContactEmail').textContent = contactEmail;
        document.getElementById('confContactPhone').textContent = contactPhone;
        document.getElementById('confPassengerCount').textContent = passengerCount;
        
        closeModal('flightModal');
        openModal('confirmationModal', null, null);
    });
    function searchFlights(e) {
        e.preventDefault();
        
        const departureCity = document.getElementById('departureCity').value;
        const arrivalCity = document.getElementById('arrivalCity').value;

        if (!departureCity || !arrivalCity) {
            alert("Vui l√≤ng nh·∫≠p ƒë·∫ßy ƒë·ªß ƒêi·ªÉm ƒêi v√† ƒêi·ªÉm ƒê·∫øn.");
            return;
        }
        
        const foundFlights = allFlights.slice(0, 3); 
        renderFlights(foundFlights, departureCity, arrivalCity);
    }

    flightSearchForm.addEventListener('submit', searchFlights);

    [flightModal, confirmationModal].forEach(modal => {
        if (modal) {
            modal.addEventListener('click', function(e) {
                if (e.target.classList.contains('modal-overlay')) {
                    closeModal(modal.id);
                }
            });
        }
    });

    document.addEventListener('DOMContentLoaded', () => {
    });
</script>
<div class="modal-overlay" id="confirmationModal">
    <div class="modal-content">
        <button class="close-button" onclick="closeModal('confirmationModal')">&times;</button>
        <h3>ƒê·∫∂T V√â TH√ÄNH C√îNG!</h3>
        <div id="ticketOutput">
            <p style="font-size: 1.1rem; color: #01346a; margin-bottom: 1rem;">C·∫£m ∆°n b·∫°n ƒë√£ ƒë·∫∑t v√©. Chi ti·∫øt y√™u c·∫ßu c·ªßa b·∫°n:</p>
            
            <p><strong>Chuy·∫øn bay:</strong> <span id="confFlightName"></span></p>
            <p><strong>Gi√° v√© ∆∞·ªõc t√≠nh:</strong> <span id="confFlightPrice" style="color: #EA580C; font-weight: 700;"></span></p>
            <hr style="margin: 10px 0;">
            <p><strong>Ng∆∞·ªùi li√™n h·ªá:</strong> <span id="confContactName"></span></p>
            <p><strong>Email:</strong> <span id="confContactEmail"></span></p>
            <p><strong>SƒêT:</strong> <span id="confContactPhone"></span></p>
            <p><strong>S·ªë l∆∞·ª£ng h√†nh kh√°ch:</strong> <span id="confPassengerCount"></span></p>
            <hr style="margin: 10px 0;">
            <p style="font-style: italic; font-size: 0.9rem;">Ch√∫ng t√¥i s·∫Ω li√™n h·ªá l·∫°i qua ƒëi·ªán tho·∫°i/email ƒë·ªÉ x√°c nh·∫≠n v√† ho√†n t·∫•t thanh to√°n trong v√≤ng 2 gi·ªù l√†m vi·ªác.</p>
        </div>
        <button class="cta-button" onclick="closeModal('confirmationModal')" style="margin-top: 1.5rem; width: 100%;">Ho√†n T·∫•t</button>
    </div>
</div>
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Travel Explorer</h3>
                    <p>ƒê·ªëi t√°c tin c·∫≠y cho m·ªçi chuy·∫øn du l·ªãch c·ªßa b·∫°n.</p>
                </div>

                <div class="footer-section">
                    <h3>Li√™n K·∫øt Nhanh</h3>
                    <a href="main.html#home">Trang Ch·ªß</a>
                    <a href="main.html#destinations">ƒêi·ªÉm ƒê·∫øn</a>
                    <a href="main.html#services">D·ªãch V·ª•</a>
                    <a href="main.html#contact">Li√™n H·ªá</a>
                </div>

                <div class="footer-section">
                    <h3>Th√¥ng Tin Li√™n H·ªá</h3>
                    <p><i class="fa-solid fa-location-dot 1"></i> 12/5D ƒê∆∞·ªùng L√™ L·ª£i, Qu·∫≠n 1</p>
                    <p><i class="fa-solid fa-phone-volume"></i> (028) 1234 5678</p>
                    <p><i class="fa-solid fa-envelope"></i> info@travelexplorer.vn</p>
                </div>

                <div class="footer-section">
                    <h3>Theo D√µi Ch√∫ng T√¥i</h3>
                    <div class="social-links">
                        <a href="#" class="social-link"><i class="fa-brands fa-facebook"></i></a>
                        <a href="#" class="social-link"><i class="fa-brands fa-instagram"></i></a>
                        <a href="#" class="social-link"><i class="fa-brands fa-tiktok"></i></a>
                        <a href="#" class="social-link"><i class="fa-brands fa-telegram"></i></a>
                    </div>
                </div>
            </div>

            <div class="footer-bottom">
                <p>&copy; 2025 Travel Explorer. T·∫•t c·∫£ quy·ªÅn ƒë∆∞·ª£c b·∫£o l∆∞u.</p>
            </div>
        </div>
    </footer>
</body>

</html>